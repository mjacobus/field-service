<% page_title t('titles.householders') %>
<% breadcrumbs_for @householders_decorator %>

<p>
  <strong><%= @householders_decorator.title_for(:territory) %>:</strong>
  <%= @householders_decorator.territory %>
</p>

<%= render partial: 'map', locals: { addresses: @householders_decorator.names_and_addresses } %>

<table>
  <thead>
    <tr>
      <th> <%= @householders_decorator.title_for(:address) %></th>
      <th><%= @householders_decorator.title_for(:name) %></th>
      <th><%= @householders_decorator.title_for(:do_not_visit_date) %></th>
      <th class="action" colspan="">
        <%= small_button_group(@householders_decorator.new_button) %>
      </th>
    </tr>
  </thead>

  <tbody>
    <% @householders_decorator.each do |householder| %>
      <tr class="<%= householder.html_classes %>">
        <td><%= householder.address %></td>
        <td><%= householder.name %></td>
        <td><%= householder.do_not_visit_date %></td>
        <td class="action">
          <% buttons = [
                householder.edit_button,
                householder.destroy_button
            ] %>
          <% buttons.unshift(householder.show_button) if householder.has_notes? %>
          <%= small_button_group(*buttons) %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

